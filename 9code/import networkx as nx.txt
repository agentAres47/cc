import networkx as nx
import csv

# Step 1: Create a directed graph
G = nx.DiGraph()
G.add_edges_from([
    ('A', 'B'),
    ('A', 'C'),
    ('B', 'C'),
    ('C', 'A'),
    ('D', 'C')
])

# Step 2: Compute PageRank
pagerank = nx.pagerank(G, alpha=0.85)

# Step 3: Display results
print("Node\tPageRank")
for node, rank in pagerank.items():
    print(f"{node}\t{rank:.4f}")

# Step 4: Save to CSV (for WEKA import)
with open('pagerank.csv', 'w', newline='') as f:
    writer = csv.writer(f)
    writer.writerow(['node', 'pagerank'])
    
    for node, rank in pagerank.items():
        writer.writerow([node, rank])
